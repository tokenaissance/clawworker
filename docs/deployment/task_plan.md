# ä»»åŠ¡è®¡åˆ’ï¼šå®Œå–„ clawworker é¡¹ç›®çš„ç¯å¢ƒé…ç½® âœ…

## ä»»åŠ¡ç›®æ ‡
ä¸º clawworker é¡¹ç›®å®Œå–„ production å’Œ development ç¯å¢ƒé…ç½®ï¼ŒåŒ…æ‹¬ï¼š
- âœ… ä¸åŒçš„ R2 bucketï¼ˆä½† secret åç§°ç›¸åŒï¼‰
- âœ… ä¸åŒçš„ worker åç§°
- âœ… ç¯å¢ƒå˜é‡åŒºåˆ†
- â³ ä¸åŒçš„è·¯ç”±å’ŒåŸŸåï¼ˆå¯é€‰ï¼‰
- âœ… Cron è§¦å‘å™¨é…ç½®

## å½“å‰çŠ¶æ€
âœ… å·²å®ŒæˆåŸºç¡€ç¯å¢ƒé…ç½®æ¡†æ¶
âœ… å·²æ·»åŠ éƒ¨ç½²å‘½ä»¤åˆ° package.json
âœ… å·²å®Œæˆ R2 Bucket é…ç½®
âœ… å·²å®Œæˆ Cron è§¦å‘å™¨é…ç½®
âœ… å·²å®Œæˆç¯å¢ƒå˜é‡é…ç½®
âœ… å·²åˆ›å»ºéƒ¨ç½²æ–‡æ¡£

**é…ç½®å·¥ä½œå®Œæˆåº¦: 100%** ğŸ‰

## å¾…å®Œæˆä»»åŠ¡

### Phase 1: R2 Bucket é…ç½® âœ… å·²å®Œæˆ
- [x] ä¸º production ç¯å¢ƒé…ç½®ç‹¬ç«‹çš„ R2 bucket (`moltbot-data-production`)
- [x] ä¸º development ç¯å¢ƒé…ç½®ç‹¬ç«‹çš„ R2 bucket (`moltbot-data-development`)
- [x] ç¡®è®¤ secret åç§°åœ¨ä¸¤ä¸ªç¯å¢ƒä¿æŒä¸€è‡´

### Phase 2: è·¯ç”±å’ŒåŸŸåé…ç½® â³ å¾…å®š
- [ ] ç¡®å®š production ç¯å¢ƒçš„è·¯ç”±/åŸŸå
- [ ] ç¡®å®š development ç¯å¢ƒçš„è·¯ç”±/åŸŸå
- [ ] åœ¨ wrangler.jsonc ä¸­é…ç½®è·¯ç”±

**æ³¨æ„**: è·¯ç”±é…ç½®æ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸é…ç½®ï¼Œworkers å°†ä½¿ç”¨é»˜è®¤çš„ `*.workers.dev` åŸŸåã€‚

### Phase 3: Cron è§¦å‘å™¨é…ç½® âœ… å·²å®Œæˆ
- [x] åˆ†æ Cron è§¦å‘å™¨çš„ç”¨é€”ï¼ˆR2 æ•°æ®åŒæ­¥ï¼‰
- [x] å†³å®šæ˜¯å¦éœ€è¦åœ¨ä¸¤ä¸ªç¯å¢ƒä½¿ç”¨ä¸åŒçš„ Cron é…ç½®ï¼ˆä¸¤ä¸ªç¯å¢ƒéƒ½ä½¿ç”¨ç›¸åŒçš„ `*/5 * * * *`ï¼‰
- [x] é…ç½® Cron è§¦å‘å™¨

### Phase 4: éƒ¨ç½²å’Œæµ‹è¯•
- [ ] åˆ›å»º R2 buckets (`wrangler r2 bucket create`)
- [ ] é…ç½®ç¯å¢ƒç‰¹å®šçš„ secrets
- [ ] æµ‹è¯• development ç¯å¢ƒéƒ¨ç½²
- [ ] æµ‹è¯• production ç¯å¢ƒéƒ¨ç½²

## å…³é”®å†³ç­–

### 1. R2 Bucket å‘½å
- Production: `moltbot-data-production` æˆ– `moltbot-data-prod`
- Development: `moltbot-data-development` æˆ– `moltbot-data-dev`

### 2. Secret ç®¡ç†
- Secret åç§°åœ¨ä¸¤ä¸ªç¯å¢ƒä¿æŒä¸€è‡´
- ä½¿ç”¨ `wrangler secret put --env production` å’Œ `wrangler secret put --env development` åˆ†åˆ«é…ç½®

### 3. Cron è§¦å‘å™¨
- ç”¨é€”ï¼šæ¯ 5 åˆ†é’ŸåŒæ­¥ moltbot æ•°æ®åˆ° R2
- å»ºè®®ï¼šä¸¤ä¸ªç¯å¢ƒä½¿ç”¨ç›¸åŒçš„ Cron é…ç½®ï¼ˆéƒ½éœ€è¦æ•°æ®å¤‡ä»½ï¼‰
